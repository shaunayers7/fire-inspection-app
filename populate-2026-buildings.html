<!DOCTYPE html>
<html>
<head>
    <title>Populate 2026 Buildings</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8 bg-gray-100">
    <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-lg">
        <h1 class="text-2xl font-bold mb-4">üè¢ Populate 2026 Buildings</h1>
        <p class="mb-4 text-gray-600">This will add Hill Spring and Seminary Cardston buildings with all devices pre-populated for 2026.</p>
        
        <button onclick="populateBuildings()" class="bg-blue-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-600">
            üì• Import Buildings to 2026
        </button>
        
        <div id="output" class="mt-6"></div>
    </div>

    <script>
        const getNewBuildingTemplate = (name = 'New Building', address = '', city = '', initialStatus = 'not-started') => ({
            id: `b-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
            name: name,
            lastSynced: null,
            createdAt: new Date().toISOString(),
            inspectionDetails: {
                date: new Date().toISOString().split('T')[0],
                time: new Date().toTimeString().split(' ')[0].substring(0, 5),
                inspector: ""
            },
            details: {
                buildingName: name,
                address: address,
                city: city,
                panelLocation: "",
                manufacturer: "",
                panelModel: "",
                serialNumber: "",
                softwareVersion: "",
                dateManufactured: "",
                lastServiceDate: 'N/A'
            },
            sections: [
                { id: 'checklist', title: 'Pre-job checklist', color: 'bg-orange-500', isDev: false },
                { id: 'control', title: 'control equipment', color: 'bg-purple-600', isDev: false },
                { id: 'devices', title: 'Device inventory', color: 'bg-[#1C252E]', isDev: true },
                { id: 'battery', title: 'Battery health', color: 'bg-blue-500', isDev: false },
                { id: 'lights', title: 'Emergency lights', color: 'bg-[#EAB308]', isDev: false }
            ],
            data: {
                checklist: [
                    { id: `ck0-${Date.now()}`, label: 'Building occupants informed of test', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `ck1-${Date.now()}`, label: 'Time established to test signal devices', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `ck2-${Date.now()}`, label: 'Access to locked doors', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `ck3-${Date.now()}`, label: 'Alternate plan made to alert of actual fire', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `ck4-${Date.now()}`, label: 'System placed on test with monitoring', status: initialStatus, note: '', photo: null, fixed: false }
                ],
                control: [
                    { id: `c0-${Date.now()}`, label: 'Power on indicator', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c1-${Date.now()}`, label: 'Common trouble indicator', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c2-${Date.now()}`, label: 'Common trouble signal', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c3-${Date.now()}`, label: 'AC power failure trouble', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c4-${Date.now()}`, label: 'Ground detection lamp', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c5-${Date.now()}`, label: 'Ground detection trouble', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c6-${Date.now()}`, label: 'General alarm operation', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c7-${Date.now()}`, label: 'Alarm silence operation', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c8-${Date.now()}`, label: 'Alarm silence lamp', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c9-${Date.now()}`, label: 'Alarm silence inhibit 1 minute', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c10-${Date.now()}`, label: 'Are glass and door(s) cleaned', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `c11-${Date.now()}`, label: 'Control panel general condition, clean & c/w keys', status: initialStatus, note: '', photo: null, fixed: false }
                ],
                devices: [],
                battery: [
                    { id: `bat0-${Date.now()}`, label: 'Battery voltage (AC power on)', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `bat1-${Date.now()}`, label: 'Battery charging current', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `bat2-${Date.now()}`, label: 'Battery voltage (AC power off - supervisory)', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `bat3-${Date.now()}`, label: 'Battery voltage (AC power off - alarm full load 5 min)', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `bat4-${Date.now()}`, label: 'Battery terminals cleaned and lubricated', status: initialStatus, note: '', photo: null, fixed: false },
                    { id: `bat5-${Date.now()}`, label: 'Battery terminals tight', status: initialStatus, note: '', photo: null, fixed: false }
                ],
                lights: []
            }
        });

        function populateBuildings() {
            const output = document.getElementById('output');
            output.innerHTML = '<div class="text-blue-600">üìù Creating buildings...</div>';

            // Hill Spring Building
            const hillSpring = getNewBuildingTemplate('Hill Spring', 'Hill spring', '', 'not-started');
            hillSpring.details.manufacturer = 'Edwards';
            hillSpring.details.panelModel = 'FSP502';
            hillSpring.details.panelLocation = 'Member Custodial Closet';

            // Add devices for Hill Spring
            const hillSpringDevices = [
                { location: 'W Ent', type: 'H', deviceNo: '1', zone: '1' },
                { location: 'Primary Closet (14)', type: 'HT', deviceNo: '14', zone: '1' },
                { location: 'C-2 (1)', type: 'HT', deviceNo: '1', zone: '1' },
                { location: 'Library (2)', type: 'HT', deviceNo: '2', zone: '1' },
                { location: 'N Ent (2)', type: 'H', deviceNo: '2', zone: '1' },
                { location: 'N Coat Closet (3)', type: 'HT', deviceNo: '3', zone: '1' },
                { location: 'C-3 (4)', type: 'HT', deviceNo: '4', zone: '1' },
                { location: 'Rm 15 (3)', type: 'H', deviceNo: '3', zone: '1' },
                { location: 'S Chapel Mech (6)', type: 'HT', deviceNo: '6', zone: '1' },
                { location: 'E Ent Nursery (4)', type: 'H', deviceNo: '4', zone: '1' },
                { location: 'C-5 closet (10)', type: 'HT', deviceNo: '10', zone: '1' },
                { location: 'S Coat Closet (7)', type: 'HT', deviceNo: '7', zone: '1' },
                { location: 'Kitchen (8)', type: 'HT', deviceNo: '8', zone: '1' },
                { location: 'Kitchen (6)', type: 'H', deviceNo: '6', zone: '1' },
                { location: 'R.S Closet 1 (15)', type: 'HT', deviceNo: '15', zone: '1' },
                { location: 'R.S Closet 2 (16)', type: 'HT', deviceNo: '16', zone: '1' },
                { location: 'R.S Closet 3 (17)', type: 'HT', deviceNo: '17', zone: '1' },
                { location: 'C-4 (9)', type: 'HT', deviceNo: '9', zone: '1' },
                { location: 'D-2 (12)', type: 'HT', deviceNo: '12', zone: '1' },
                { location: 'C-1 (5)', type: 'HT', deviceNo: '5', zone: '1' },
                { location: 'S Ent (5)', type: 'H', deviceNo: '5', zone: '1' },
                { location: 'Member Custodial (18)', type: 'HT', deviceNo: '18', zone: '1' },
                { location: 'Member Custodial Mech (19)', type: 'HT', deviceNo: '19', zone: '1' },
                { location: 'D-1 (11)', type: 'HT', deviceNo: '11', zone: '1' },
                { location: 'Chapel Storage (13)', type: 'HT', deviceNo: '13', zone: '1' },
                { location: 'SAC PREP RM (20)', type: 'HT', deviceNo: '20', zone: '1' },
                { location: 'Buzzer/Strobe 1', type: 'B', deviceNo: 'N/A', zone: 'N/A' },
                { location: 'Buzzer/Strobe 2', type: 'B', deviceNo: 'N/A', zone: 'N/A' },
                { location: 'Buzzer/Strobe 3', type: 'B', deviceNo: 'N/A', zone: 'N/A' },
                { location: 'Buzzer/Strobe 4', type: 'B', deviceNo: 'N/A', zone: 'N/A' },
                { location: 'Buzzer/Strobe 5', type: 'B', deviceNo: 'N/A', zone: 'N/A' },
                { location: 'Buzzer/Strobe 6', type: 'B', deviceNo: 'N/A', zone: 'N/A' }
            ];

            hillSpringDevices.forEach(device => {
                hillSpring.data.devices.push({
                    id: `dev-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
                    label: device.location,
                    type: device.type,
                    deviceNo: device.deviceNo,
                    status: 'not-started',
                    note: `Zone ${device.zone}`,
                    photo: null,
                    fixed: false
                });
            });

            // Add emergency lights for Hill Spring
            const hillSpringLights = [
                { label: 'EM-1 - MEMBER CUSTODIAL', location: 'B-24 MEMBER CUSTODIAL' },
                { label: 'EM-2 - RM C-1', location: 'A-16 RM C-1' },
                { label: 'EM-3 - RM C-3', location: 'A-16 RM C-3' },
                { label: 'EXIT LIGHTS', location: 'B-22' }
            ];

            hillSpringLights.forEach(light => {
                hillSpring.data.lights.push({
                    id: `light-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
                    label: light.label,
                    status: 'not-started',
                    note: light.location,
                    photo: null,
                    fixed: false,
                    timer: null
                });
            });

            // Seminary Cardston Building
            const seminaryCardston = getNewBuildingTemplate('Seminary Cardston', 'Cardston', '', 'not-started');

            // Add emergency lights for Seminary Cardston
            const seminaryLights = [
                { label: 'EM-1' },
                { label: 'EM-2' },
                { label: 'EM-3' },
                { label: 'EM-4' },
                { label: 'EM-5' },
                { label: 'EXIT LITES' }
            ];

            seminaryLights.forEach(light => {
                seminaryCardston.data.lights.push({
                    id: `light-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
                    label: light.label,
                    status: 'not-started',
                    note: '',
                    photo: null,
                    fixed: false,
                    timer: null
                });
            });

            // Get existing data
            const existingData = JSON.parse(localStorage.getItem('yearData') || '{}');
            const existing2026 = existingData[2026] || [];

            // Add new buildings
            existingData[2026] = [...existing2026, hillSpring, seminaryCardston];

            // Save to localStorage
            localStorage.setItem('yearData', JSON.stringify(existingData));

            output.innerHTML = `
                <div class="space-y-4">
                    <div class="p-4 bg-green-100 text-green-800 rounded-lg">
                        <h3 class="font-bold">‚úÖ Success!</h3>
                        <p class="mt-2">Added 2 buildings to 2026:</p>
                        <ul class="list-disc ml-6 mt-2">
                            <li><strong>Hill Spring</strong> - ${hillSpringDevices.length} devices, ${hillSpringLights.length} emergency lights</li>
                            <li><strong>Seminary Cardston</strong> - ${seminaryLights.length} emergency lights</li>
                        </ul>
                    </div>
                    <div class="p-4 bg-blue-100 text-blue-800 rounded-lg">
                        <p><strong>üìã Details:</strong></p>
                        <p class="mt-2">Hill Spring:</p>
                        <ul class="text-sm ml-4 mt-1">
                            <li>‚Ä¢ Panel: Edwards FSP502</li>
                            <li>‚Ä¢ Location: Member Custodial Closet</li>
                            <li>‚Ä¢ 6 Manual Pull Stations (H)</li>
                            <li>‚Ä¢ 20 Heat Detectors (HT)</li>
                            <li>‚Ä¢ 6 Bells/Strobes (B)</li>
                            <li>‚Ä¢ 4 Emergency Lights</li>
                        </ul>
                    </div>
                    <button onclick="window.close()" class="mt-4 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                        Close Window
                    </button>
                </div>
            `;

            console.log('‚úÖ Buildings added to 2026:', { hillSpring, seminaryCardston });
        }
    </script>
</body>
</html>
